id: dsq-747517956
date: 2007-06-01T00:23:17.0000000-07:00
name: Martin Bayly
avatar: https://disqus.com/api/users/avatars/Martin Bayly.jpg
message: "<p>Seems to work great apart from when running multiple tests via the nunit-console.<br>I was starting/stopping the web server in the  [TestFixtureSetUp] methods of each test case.<br><br>For some reason I get the following exception after the test are run if I have multiple test classes using this approach:<br>     [exec] Tests run: 14, Failures: 0, Not run: 0, Time: 8.078 seconds<br>     [exec] Unhandled exceptions:<br>     [exec] 1)  : System.AppDomainUnloadedException: Attempted to access an unloaded AppDomain.<br>The weird thing is it doesn't seem to stop the tests - but nunit returns an error so it breaks my build.<br>Initially I was able to work around this by using an NUnit [SetUpFixture] to start the webserver once for all tests in the assembly.<br>However, I then added another test assembly using the same technique and the AppDomainUnloadedException came back again.<br>Don't understand enough about AppDomains to understand what could be causing it.  In the end I had to work around it by starting independent instances of the nunit console to run each test assembly.</p>"
