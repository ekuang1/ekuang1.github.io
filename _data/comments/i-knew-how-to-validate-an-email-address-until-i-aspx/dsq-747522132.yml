id: dsq-747522132
date: 2010-05-26T04:18:27.0000000-07:00
name: evoisard
avatar: https://disqus.com/api/users/avatars/evoisard.jpg
message: "<p>Back to the local-part escaping and special chars issue:<br>Apparently, distinction must be made if we consider characters that are permitted in email addresses as they appear in the fields of the header of an actual message (RFC 2822, formerly RFC 822) and in email addresses as they must be during the sending of a message with SMTP (RFC 2821, formerly RFC 821).<br>In RFC 821, I find nothing against '\\' escaping US-ASCII chars in dot-string.<br>see page 30,31: &lt;char&gt; ::= &lt;c&gt; | \"\\\" &lt;x&gt;<br>with: &lt;x&gt; ::= any one of the 128 ASCII characters (no exceptions)<br>While in \"clarifications\" in ch 3.4.2 of RFC 822 it's made clear that '\\' escaping must be within a quoted-string.<br>Then, both RFC 2821 and RFC 2822 say that '\\' escaping (quoted-pair) must only be within a quoted-string. This is also backed in RFC 3696 errata.<br>But in addition to this, page 37 of RFC 2821 says:<br>\"Systems MUST NOT define mailboxes in such a way as to require the use in SMTP of non-ASCII characters (octets with the high order bit set to one) or ASCII \"control characters\" (decimal value 0-31 and 127). These characters MUST NOT be used in MAIL or RCPT commands or other commands that require mailbox names.\"<br>If I understand it, this limits considerably the need for escaping special chars, and also the variety of \"true\" email addresses (I mean not as they can be formatted in messages headers but as they must really be for being correctly processed with SMTP by the MTAs)...<br>Doesn't this indicate that we cannot rely only on RFC 822 and RFC 2822 for deciding what a valid email address is?<br>Eric</p>"
