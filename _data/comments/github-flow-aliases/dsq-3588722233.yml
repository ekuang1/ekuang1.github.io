id: dsq-3588722233
replyToId: dsq-3587400882
date: 2017-10-28T07:25:00.0000000-07:00
name: Douglas Pagani
avatar: https://disqus.com/api/users/avatars/douglaspagani.jpg
message: "<p>Yea, it's useless here for the reason I detailed. In fact, worse than useless, it's probably circumstantially confusing. Also, it doesn't even work on macOS flavor, so you must use Linux or at least import updated GNU-utils, but maybe no one else tested that alias. (it is specific to a select group of workflows, how often do people delete branches to where they need to automate that?)</p><p>It's still a cool idea, though.</p><p>Two suggestions:</p><p>1. take out -r of xargs, replace it with -I{} ... &lt;util&gt; {}. This is a typical xargs construct, works across all flavors, and is adaptable to other aliases, should people get the idea to do something similar.<br>2. Put in another clause for bdone, to `co` the master branch first. This is to avoid the error where git tries to parse the \"* topic\" output of the branch list. This would never come-up (and probably hasnt for you) if you are always checked out on master at that point, and so I'm guessing you always use bclean by way of bdone, rarely using it singularly. If you're on master, the line \"* master\" will get removed anyways.</p><p>My new invocation is this:</p><p>   ` bclean = \"!f() { git checkout ${1-master} &amp;&amp; git branch --merged ${1-master} | grep -v \" ${1-master}$\" | xargs -I{} git branch -d {}; }; f\" `</p><p>And so you can trust the above-written is verified: (the changes I wrote about)<br><a href=\"https://imgur.com/a/AxriN\" rel=\"nofollow noopener\" title=\"https://imgur.com/a/AxriN\">https://imgur.com/a/AxriN</a></p>"
