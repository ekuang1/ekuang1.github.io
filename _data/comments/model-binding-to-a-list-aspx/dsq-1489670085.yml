id: dsq-1489670085
date: 2014-07-17T05:03:40.0000000-07:00
name: Pawe≈Ç Kondzior
avatar: https://disqus.com/api/users/avatars/pawekondzior.jpg
message: <p>You sample will not work for nested collection, for item like "Items[1].Items[1].Index", expected result is "Items[1].Items.Index", but code returns "Items.Items.Index".</p><p>I made a quick fix:</p><p>static Regex _stripIndexerRegex = new Regex(@"\[(?&lt;index&gt;\d+)\]", RegexOptions.Compiled | RegexOptions.RightToLeft);</p><p> public static string GetIndexerFieldName(this TemplateInfo templateInfo)<br>        {<br>            string fieldName = templateInfo.GetFullHtmlFieldName("Index");<br>            var matches = _stripIndexerRegex.Matches(fieldName);<br>            if (matches.Count &gt; 0)<br>            { <br>                var match = matches[0];<br>                fieldName = fieldName.Remove(match.Index, match.Length);<br>            }</p><p>          //  fieldName = _stripIndexerRegex.Replace(fieldName, string.Empty);</p><p>            if (fieldName.StartsWith("."))<br>            {<br>                fieldName = fieldName.Substring(1);<br>            }</p><p>            return fieldName;<br>        }</p>
