id: dsq-747532982
date: 2010-08-12T04:07:33.0000000-07:00
name: James Manning
avatar: https://disqus.com/api/users/avatars/James Manning.jpg
message: <p>Well, if we're going to talk about new versions of libraries breaking things, in case others haven't hit it, keep in mind that extension methods are similarly subtle in causing a breakage, except it's even more difficult to avoid causing a potential break.<br>Before .NET 4 added Stream.CopyTo, I had done it as an extension method in my 3.5 projects - my impl was different than what .NET 4 ended up shipping, since I did basically if (CanSeek) Seek(0); copy stuff; if (CanSeek) Seek(0) (it was useful for me :)<br>retarget .net 4, no compile warnings, and it breaks.<br>every extension method you use is a potential for a breaking change if the thing you're extending adds that method since the extension method will then get silently ignored (I asked Eric to make it a warning, but he disagrees).  The only thing the creator of an API can do is never add methods to any public surface (classes, interfaces, etc) since it could break anyone that's using extension methods (whether of their creation or some library they use).<br>The BCL made what was a breaking change for me by adding CopyTo (obviously all new methods are in the same boat), but I don't think anyone in the BCL team would have considered it a breaking change then (or now :), but it still broke me :)</p>
