id: dsq-747513061
date: 2005-09-24T05:34:00.0000000-07:00
name: Chris Martin
avatar: https://disqus.com/api/users/avatars/Chris Martin.jpg
message: "<p>I've never thought about doing it that way. Something about it smells funny though. It's not very .NETish. This is what I end up doing when binding to enums.<br><br><br><br><br><br>public enum UglinessFactor<br><br>{<br><br>[EnumDisplayText(\"Butt Ugly\")]<br><br>ButtUgly,<br><br><br><br>[EnumDisplayText(\"Freakin Ugly\")]<br><br>Fugly,<br><br><br><br>[EnumDisplayText(\"Not So Bad\")]<br><br>NotSoBad,<br><br>}<br><br><br><br>public class EnumDisplayTextAttribute : Attribute<br><br>{<br><br>private Enum _host;<br><br>private string _text;<br><br><br><br>public EnumDisplayTextAttribute (string text)<br><br>{<br><br>this._text = text;<br><br>}<br><br><br><br>public static EnumDisplayTextAttribute Parse(Enum value)<br><br>{<br><br>EnumDisplayTextAttribute toReturn = null;<br><br><br><br>Type type = value.GetType();<br><br><br><br>FieldInfo field = type.GetField(value.ToString());<br><br><br><br>object[] attributes = field.GetCustomAttributes(typeof(EnumDisplayTextAttribute), false);<br><br><br><br>if(attributes.Length &gt; 0)<br><br>{<br><br>toReturn = (EnumDisplayTextAttribute)attributes[0];<br><br>toReturn._host = value;<br><br>}<br><br><br><br>return toReturn;<br><br>}<br><br><br><br>public Enum Host<br><br>{<br><br>get { return _host; }<br><br>}<br><br><br><br>public string Text<br><br>{<br><br>get { return _text; }<br><br>}<br><br>}<br><br><br><br>public class Application<br><br>{<br><br>private static void Main()<br><br>{<br><br>string[] names = Enum.GetNames(typeof(UglinessFactor));<br><br><br><br>foreach(string name in names)<br><br>{<br><br>UglinessFactor uglyFactor = (UglinessFactor)Enum.Parse(typeof(UglinessFactor), name, true);<br><br><br><br>EnumDisplayTextAttribute attribute = EnumDisplayTextAttribute.Parse(uglyFactor);<br><br><br><br>Console.WriteLine(\"Host Enum: {0}\\nDisplayText: {1}\\n\", attribute.Host.ToString(), attribute.Text);<br><br>}<br><br><br><br>Console.ReadLine();<br><br>}<br><br>}</p>"
