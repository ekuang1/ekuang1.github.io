id: dsq-747523558
date: 2007-12-06T08:28:51.0000000-08:00
name: Oran
avatar: https://disqus.com/api/users/avatars/Oran.jpg
message: <p>The way you're using the Test-Specific Subclass is as a Stub (state-based).  To me, a partial mock (interaction-based) also qualifies as Test-Specific Subclass.  In the Ben Pryor post that you linked to <a href="https://haacked.com/archive/2007/05/04/setting-propertybehavior-on-all-properties-with-rhino-mocks.aspx" rel="nofollow noopener" title="https://haacked.com/archive/2007/05/04/setting-propertybehavior-on-all-properties-with-rhino-mocks.aspx">from here</a>, he says "A stub is a trivial implementation of an interface that exists for the purpose of collecting state during a unit test."  Since as you mentioned you prefer state-based testing over Interaction-based testing, a Stub (state-based) would feel more natural to use than a Mock (interaction-based).<br>In the case of your controller, the essence of your test is the controller's interaction with its view, so I would argue that interaction-based testing is more appropriate.  You can simulate interaction-based testing with a Stub, but it has the disadvantage of jumping through the extra hoops of explicit state accumulation and retrieval/verification rather than just directly expressing the expected behavior.</p>
