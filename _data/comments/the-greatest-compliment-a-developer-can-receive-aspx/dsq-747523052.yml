id: dsq-747523052
date: 2007-10-13T05:35:24.0000000-07:00
name: Pete
avatar: https://disqus.com/api/users/avatars/Pete.jpg
message: <p>"Comments are generally viewed as a weakness unless 1) they are describing some weird thing that can't be made better through refactoring and meaningful names. 2) The comment describes the responsibility of a class."<br>Yeah, well, you know, that's just, like, your opinion, man. <br>Anyway.... I think you miss out on the potential usefulness of comments as a bulleted list of what a function does. Using comments in this way makes it possible for new programmers to grasp the logic of a function (much) more quickly than if they had to read the entire code.<br>Hereâ€™s an example by Christopher Seiwald, illustrating this point (copied from his book Pillars of Pretty Code):<br><br><code>// Unlink a Record from a linked list<br>Status<br>unlinkRec(<br>  Record **list,<br>  Record *const rr )<br>{<br>  /* Previous record *p is for unlinking. */<br>  /* Current record *r scans list. */<br>  Record * p = 0;<br>  Record *r = *list;<br>  /* Scan list for rr. */<br>  while( r &amp;&amp; r != rr )<br>    p = r, r = r-&gt;next;<br>  /* No r? rr not found. */<br> <br>  if (!r )<br>    return ERR;<br>  /* Delink r from list. */<br>  if( p ) p-&gt; next = r-&gt;next;<br>  else *list = r-&gt;next;<br>  r-&gt;next = 0;<br>  return OK;<br>}</code><br>Without the comments the logic of the function would typically take about 45 seconds to induce for an average programmer. WITH the comments, the logic can be grasped in 5 seconds.<br>This is the point which I was trying to make.</p>
