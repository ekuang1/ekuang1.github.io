id: dsq-747528718
date: 2010-05-10T02:31:32.0000000-07:00
name: Ramesh Kadirisani
avatar: https://disqus.com/api/users/avatars/Ramesh Kadirisani.jpg
message: '<p>Fix for .OrderBy(sidx + " " + sord) issue:<br>While working with this example, many users might have experienced the problem with the above line (I am newbie in .NET MVC world so please excuse me if the fix that i mentioned is not correct).<br>i used the following fix and thought could be useful to others:<br>//Comment the following lines<br>/* <br>var questions = context.Questions<br>    .OrderBy(sidx + " " + sord)<br>    .Skip(pageIndex * pageSize)<br>    .Take(pageSize);<br>*/<br>//Add the following code<br>var question = (sord == "asc") ? <br>               context.Questions<br>               .OrderBy(new Func&lt;Questions, IComparable&gt;(Questions =&gt; (IComparable)GetPropertyValue(Questions,sidx)))<br>               .Skip(pageIndex * pageSize)<br>               .Take(pageSize)<br>               :<br>               context.Questions<br>               .OrderByDescending(new Func&lt;Questions, IComparable&gt;(Questions =&gt; (IComparable)GetPropertyValue(tblElectionContest, sidx)))<br>               .Skip(pageIndex * pageSize)<br>               .Take(pageSize);<br><br>//Now add the following method in your controller<br>//(Author of this following method is : Kjetil Watnedal)<br>public object GetPropertyValue(object obj, string property)<br>        {<br>            System.Reflection.PropertyInfo propertyInfo = obj.GetType().GetProperty(property);<br>            return propertyInfo.GetValue(obj, null);<br>        }<br> <br></p>'
