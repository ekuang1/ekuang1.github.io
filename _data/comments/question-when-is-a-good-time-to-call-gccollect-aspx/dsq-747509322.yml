id: dsq-747509322
date: 2004-08-15T22:21:00.0000000-07:00
name: Ian Griffiths
avatar: https://disqus.com/api/users/avatars/Ian Griffiths.jpg
message: <p>You've constructed an argument for why it might possibly not be a really bad idea to call GC.Collect here.  But I don't see any arguments as to why it might be a good idea.<br><br><br><br>Looking at this code, it looks to me like someone put some code in a finalizer to do some tidying up somewhere, and wanted to force it to run at this point...<br><br><br><br>One possible reason might be if the entire process is about to shut down. Usually the CLR gives up if all your finalizers don't manage to run within a few seconds at shutdown. Forcing a GC and then waiting for finalizers before exit would be a way of guaranteeing that all finalizers run before the process quits. (And if the process is about to shut down, most of the performance concerns probably aren't an issue any more...) So if this Stop method really is something done just before the process shuts down, then this might be the reason - it's about making sure finalizers run before the process exits.<br><br><br><br>Or it might just be totally misguided...<br><br><br><br>In general, forcing an early GC tends to promote objects that might not otherwise have got promoted which, as Rico has thoroughly documented, is a Bad Thing. You wouldn't want that to occur on a regular basis.</p>
