id: dsq-747536258
date: 2011-10-05T00:38:16.0000000-07:00
name: Nicholas Carey
avatar: https://disqus.com/api/users/avatars/Nicholas Carey.jpg
message: "<p>Thanks for trying to fix this problem. Forms Authentication turning returning 302 instead of a 401 and turning any 401 into a 302 redirect has always been most vexing been a headache for years.<br></p><blockquote><b>Why don’t you just fix the FormsAuthenticationModule?</b><br>We realize this is a deficiency with the forms authentication module and we’re looking into hopefully fixing this for the next version of the Framework.</blockquote><p><br>Specification of the correct behaviour has been part of the HTTP standard for more than 15 years now. HTTP 1.1, <a href=\"http://www.rfc-editor.org/rfc/rfc2616.txt\" rel=\"nofollow noopener\" title=\"http://www.rfc-editor.org/rfc/rfc2616.txt\">RFC 2616</a> (and before that, HTTP 1.0, <a href=\"http://www.rfc-editor.org/rfc/rfc1945.txt\" rel=\"nofollow noopener\" title=\"http://www.rfc-editor.org/rfc/rfc1945.txt\">RFC 1945</a>) specify the correct behavior in sections 10.4.2 and 9.4 respectively (the verbiage hasn't changed significantly):<br></p><blockquote><strong>10.4.2 401 Unauthorized</strong> The request requires user authentication. The response MUST include a WWW-Authenticate header field (section 14.47) containing a challenge applicable to the requested resource.<br>The client MAY repeat the request with a suitable Authorization header field (section 14.8). If the request already included Authorization credentials, then the 401 response indicates that authorization has been refused for those credentials.<br>If the 401 response contains the same challenge as the prior response, and the user agent has already attempted authentication at least once, then the user SHOULD be presented the entity that was given in the response, since that entity might include relevant diagnostic information. HTTP access authentication is explained in \"HTTP Authentication: Basic and Digest Access Authentication\" [43].</blockquote>"
