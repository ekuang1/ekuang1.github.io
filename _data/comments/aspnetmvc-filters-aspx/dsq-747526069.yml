id: dsq-747526069
date: 2008-08-13T23:21:45.0000000-07:00
name: Kevin Miller
avatar: https://disqus.com/api/users/avatars/Kevin Miller.jpg
message: '<p>For the record as long as we are talking about attributes Is there <br>any plan to support setting your own FilterFactory like what was done with controllers? Something like:<br>FilterBuilder.Current.SetFilterFactory(new StructureMapFilterFactory());<br>I would love it if there was support for doing Dependency Injection with filters. I have a custom filter used for security and testing the filter is a bit trickier than a normal DI scenario. With no IoC container creating the filter I have to do service location to retrieve dependencies from the container. To get around this I have do something like this:<br>public override void OnActionExecuting(ActionExecutingContext filterContext) {<br>//TODO - ICK Service location get rid of this. Use IoC.<br>var authenticationService = ObjectFactory.GetInstance&lt;iauthenticationservice&gt;();<br>var redirectService = ObjectFactory.GetInstance&lt;iredirectservice&gt;();<br>RedirectToLoginIfNotAuthenticated(authenticationService, redirectService);<br>}<br>... <br>Note: I will look to see if it makes sense to changing this to implement IAuthorizationFilter.</p>'
