id: dsq-747508750
date: 2005-04-22T04:23:00.0000000-07:00
name: Up All Night
avatar: https://disqus.com/api/users/avatars/Up All Night.jpg
message: <p>I found the insights posted on this page to be helpful.  I thought I would share mine.  Still needs help.<br><br><br><br>This is my task.  I have a table of Realtors.  When a new customer signs up for service, the app needs to check to see which Realtors will service the customer's particular zip code.  Simple enough. Then randomly assign the customer one of the Realtors who services his zip code area.  I then need to set selected_status to 1 on the Realtor's record. This works to remove him from the random pool until all agents have been assigned once.<br><br><br><br>SELECT agent_id FROM  `agent_info` <br><br>WHERE selected_status &lt;1 and agent_serv_zip like '%&lt;?=$zipcode;?&gt;%'<br><br>ORDER  BY rand( ) <br><br>LIMIT 1 <br><br><br><br>This works perfectly to return one random row that fits my original criteria.<br><br><br><br>What I would like to find out is if there is a way to set the selected_status to 1 in the same query?  <br><br><br><br>After all 'selected_status' flags are &gt; 0, I will reset them back to 0 in order to put the realtors back into the pool<br><br></p>
