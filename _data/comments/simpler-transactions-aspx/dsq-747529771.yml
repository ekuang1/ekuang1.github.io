id: dsq-747529771
date: 2009-08-19T15:44:00.0000000-07:00
name: Vito Botta
avatar: https://disqus.com/api/users/avatars/Vito Botta.jpg
message: <p>Looks tidy and cute, but how do you use it if you want to return the results of a query to the outer function?<br>I use TransactionScope also to simply get data (not only to persist changes), because this way I can set the IsolationLevel to ReadUncommitted and have a behaviour similar to NOLOCK. In many cases this Isolation Level is perfectly OK for me and by doing this I have seen ~20/25 faster queries.<br>Your little snippet is cute, but I can I use it in this case?<br>Say I have now something like<br>            using (TransactionScope transaction = new TransactionScope( TransactionScopeOption.Required, new TransactionOptions{ IsolationLevel = System.Transactions.IsolationLevel.ReadUncommitted}))<br>            {<br>...<br>return (from ....);<br>            }<br>Which is OK. But if I use your snippet, I have something like<br>Transaction.Do(() =&gt; {<br>    return ..my query...  <br>});<br>I can add of course an overload to be able to specify the isolation level, but in this case a boolean is expected instead of the results of my query.<br></p>
