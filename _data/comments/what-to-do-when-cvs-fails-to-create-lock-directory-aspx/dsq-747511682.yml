id: dsq-747511682
date: 2011-08-04T15:45:31.0000000-07:00
name: Andy B
avatar: https://disqus.com/api/users/avatars/Andy B.jpg
message: "<p>Not so good, guys. The reason you have a problem is because when you run cvs init to create the root, you are probably running as \"root\" (on *nix) or some privileged account on Windows.<br>Then when you add a project it is probably running as a different account.<br>The solution? On CVSROOT and children, make the group (which has RW privs) to be something other than (on *nix at least) \"root\". Same for the project. Look at how I set up on the vanilla Linux box I just created on EC2:<br>[root@ip-10-113-25-39 cvsroot]# ls -la<br>total 32<br>drwxrwxrwt  5 root        root         4096 Aug  5 09:04 .<br>drwxr-xr-x  3 root        root         4096 Aug  5 08:30 ..<br>drwxrwxr-x  3 root        cvs_users    4096 Aug  5 08:32 CVSROOT<br>drwx------  2 root        root        16384 Aug  5 08:30 lost+found<br>drwxrwxr-x 17 tooyen_priv softwareab   4096 Aug  5 09:24 softwareab<br>I created \"softwareab\" group for my softwareab project (groupadd softwareab). Then I used \"usermod\" to ensure that both my accounts (the ec2-user SSH wheel and my local \"tooyen_priv\" account) have membership in bptj cvs_users and softwareab groups. Do you see the pattern? \"cvs_users\" group is common to all devs (hence is used for CVSROOT and children group). Individual projects (like my \"softwareab\") will have different group.<br>Individual developers will always be a member of \"cvs_users\" and can optionally be members of other groups to give them appropriate access to the projects. It's not perfect (for example, how to give read-only access to projects without granting that privilege to \"world\") but it explains the lock issues you are reporting.<br>Note for the unwary (excuse the shouting): DO NOT USE 777 FOR PERMISSIONS. It's really a bad idea and indicates absence of planning. It's the kind of thing that, with one little mistake like a -R (recursive) on chmod, can effectively destroy the integrity of an entire OS. Think I'm kidding? I've seen it happen up close and personal. The good news, with VMs and snapshots you can recover (unless it's a physical box in which case there went your weekend).</p>"
