id: dsq-747527897
date: 2010-08-07T04:49:28.0000000-07:00
name: Stephen Wilson
avatar: https://disqus.com/api/users/avatars/Stephen Wilson.jpg
message: "<p>Hi Phil,<br>Thanks for this tip! I am having a small issue using it however that I hope you could shed some light on.<br>Currently I have the link:<br>&lt;code<a href=\"<%: Url.Action(\" rel=\"nofollow noopener\" title=\"<%: Url.Action(\">&lt;% Response.Write(supplier.IsActive ? \"Deactivate\" : \"Activate\"); %&gt;</a><br>This works fine and fires the 'Activate' action:<br><code>  <br>[HttpPost]<br>[Authorize]<br>public ActionResult Activate(int id)<br>{<br>    SupplierRepository sr = new SupplierRepository();<br>    Supplier supplier = sr.GetSupplier(id);<br>    sr.SetSupplierActive(id, !supplier.IsActive);<br>    return RedirectToAction(\"Index\");<br>}<br></code><br>Which in turn fires the index action:<br><code><br>[Authorize]<br>public ActionResult Index()<br>{<br>    SupplierRepository sr = new SupplierRepository();<br>    return View(new SuppliersViewModel <br>               { <br>                 suppliers =  sr.GetAllSuppliers().ToList() <br>               });<br>}<br></code><br>But because I am redirecting back to the same page that made the post (at least thats what I think the issues is) The page does not get updated / re-rendered. <br>Letting the link fire as a 'get' request works fine, presumably because in the browsers mind it has gone somewhere, so the re-render is necessary.<br>I have tried to find a solution for this but all the search terms I could think of to find an answer didnt come up with anything.<br>This seams like a pretty basic issue, what am I missing?<br>Thanks<br>Stephen.</p>"
