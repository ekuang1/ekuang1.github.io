id: dsq-747517236
date: 2010-10-26T03:01:16.0000000-07:00
name: Vidhya
avatar: https://disqus.com/api/users/avatars/Vidhya.jpg
message: <p>Thanks for sharing info.<br>I am trying following in production, but somehow following code is not working.  I am clueless can you please guide me?  Its a burning question and nowhere i found a true solution on web.<br>            if (HttpContext.Current == null)<br>            {<br>                strUserIp = "127.0.0.1";<br>            }            <br>            else if (string.IsNullOrEmpty(HttpContext.Current.Request.ServerVariables["HTTP_X_FORWARDED_FOR"]))<br>            {   <br>                //Users IP Address.      <br>                strUserIp = HttpContext.Current.Request.ServerVariables["REMOTE_ADDR"].ToString();<br>            }<br>            else<br>            {<br>                //To get the IP address of the machine and not the proxy<br>                string IPAddresses = HttpContext.Current.Request.ServerVariables["HTTP_X_FORWARDED_FOR"].ToString();<br>                string [] ipArray = IPAddresses.Split(new char[] {','});<br>                strUserIp = ipArray[0];<br>            }<br>Thanks<br>Vidhya</p>
