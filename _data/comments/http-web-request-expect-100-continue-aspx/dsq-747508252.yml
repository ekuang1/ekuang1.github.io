id: dsq-747508252
date: 2005-06-01T19:22:00.0000000-07:00
name: Mirronelli
avatar: https://disqus.com/api/users/avatars/Mirronelli.jpg
message: <p>Hi,<br><br><br><br>I think I found a bit better solution. Thanks to this thread I started reading all around the internet and have found out this:<br><br><br><br>The servicepointmanager is something like a http connection pool. It creates new servicepoints whenever needed and sets their Expect100Continue property based on its own static Expect100Continue value.<br><br><br><br>This means if a servicepoint was created before changing servicepointmanagers Expect100Continue property it preserves its original value.<br><br><br><br>The point is you can always change the servicepoints Expect100Continue instance property, thus changing the behaviour of each individual request.<br><br><br><br>The WebRequest class provides its underlying servicepoint so you can change it right before the request is being made.<br><br><br><br>Example:<br><br>// create web request<br><br>HttpWebRequest webRequest = (HttpWebRequest) WebRequest.Create("<a href='http://something"' rel="nofollow noopener" title='http://something"'>http://something"</a>);<br><br>webRequest.Method = "POST";<br><br>webRequest.ServicePoint.Expect100Continue = false;<br><br><br><br>// post data<br><br>requestStream = webRequest.GetRequestStream();<br><br>StreamWriter requestWriter = new StreamWriter(requestStream);<br><br>requestWriter.Write(dataToPost);<br><br>requestWriter.Close();<br><br><br><br>//wait for server response<br><br>HttpWebResponse response = (HttpWebResponse) webRequest.GetResponse();</p>
