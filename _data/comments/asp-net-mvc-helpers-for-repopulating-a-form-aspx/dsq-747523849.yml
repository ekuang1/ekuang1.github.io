id: dsq-747523849
date: 2007-12-21T07:12:10.0000000-08:00
name: Sergio Pereira
avatar: https://disqus.com/api/users/avatars/Sergio Pereira.jpg
message: '<p>Phil, this is an interesting solution but it still looks a little bit clunky to me.<br>In this scenario, my initial reaction would be to put the actual Article instance in the TempData. My New() action could eventually become:<br>[ControllerAction]<br>public void New()<br>{<br>  Article article = null;<br>  try{ article = TempData["article"];}catch{/*ugh!*/}<br>  if(article == null) article = new Article();<br>  ViewData["article"] = article;<br>  RenderView("New");<br>}<br>And the view:<br>&lt;%/* base class --&gt; ViewPage&lt;Article&gt;    */%&gt;<br>&lt;% using(Html.Form("Article", "Create")) { %&gt;   <br>&lt;span class="error"&gt;<br>    &lt;%= ViewContext.TempData.SafeGet("Message") %&gt;<br>&lt;/span&gt;<br>&lt;label for="title"&gt;Title: &lt;/label&gt; <br>&lt;%= Html.TextBox("title"<br>  , Html.Encode(ViewData.Title) %&gt;<br>&lt;label for="body"&gt;Body: &lt;/label&gt;<br>&lt;%= Html.TextArea("body"<br>  , Html.Encode(ViewData.Body) %&gt;<br>&lt;%= Html.SubmitButton() %&gt;<br>&lt;% } %&gt;<br>Do you see anything that could prevent this from working?</p>'
