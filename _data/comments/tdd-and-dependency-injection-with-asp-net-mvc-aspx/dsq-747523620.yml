id: dsq-747523620
date: 2008-08-25T05:06:43.0000000-07:00
name: Praveen Angyan
avatar: https://disqus.com/api/users/avatars/Praveen Angyan.jpg
message: "<p>So, I finally get it. It all snapped into place: DI, Mocking, using Interfaces for the parts of the code that we want to decouple etc. I've been rereading this post and others for the past two weeks and I suddenly got it and started using it in my production code.<br>However there is one crucial point I'm missing here in this method: BlogControllerPassesCorrectViewData<br>Isn't the whole point of writing an InMemoryPostRepository class to be able to use it in the unit tests, more specifically in BlogControllerPassesCorrectViewData in your case? This would get rid of a whole lot of code required for mocking, the tests would still run as fast. What do you lose by coupling your unit test to a lightweight repository instance? <br>This really came up because when I tested an action that takes values from an HTML form and creates a new entry in the repository and I used your patterns, I had a whole lot of code to mock the different instances. And in the end I couldn't even test a crucial bit of functionality.<br><br></p>"
