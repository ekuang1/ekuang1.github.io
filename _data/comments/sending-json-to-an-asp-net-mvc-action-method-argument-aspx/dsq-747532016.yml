id: dsq-747532016
date: 2010-11-10T00:27:16.0000000-08:00
name: Tyler
avatar: https://disqus.com/api/users/avatars/Tyler.jpg
message: "<p>I killed myself for 2 days figuring this out, so thought I would share.<br>By default a javascript array object turned JSON looks like this:<br>{\"0\":{\"Name\":\"Cup Warmer\",\"Id\":1,\"Price\":10,\"Quantity\":0},<br>\"1\":{\"Name\":\"Hello Kitty Mug\",\"Id\":2,\"Price\":20,\"Quantity\":0},<br>\"2\":{\"Name\":\"Percolator\",\"Id\":3,\"Price\":50,\"Quantity\":0},<br>\"3\":{\"Name\":\"A Bunch of Coffee\",\"Id\":4,\"Price\":100,\"Quantity\":0}}<br>But for the binder to work it needs some help to know that \"0\" belongs at the \"0\" index of my object. If instead of building up your array with just \"0\" as the index you use the parameter name of your controller it flies.<br>Controller Signature:<br>  public ActionResult Submit(IEnumerable&lt;OrderInfo&gt; productList)<br>Javascript:<br> function SubmitOrder() {<br>     var productData = {};<br>     var productList = $('#productList li')<br>     productList.each(function(index, element) {<br>         var productInfo = $(element).data('ProductInfo');<br>         productData['productList[' + index + ']'] = productInfo;<br>     });<br>     $.ajax({<br>         'url': 'order/submit',<br>         'type': 'post',<br>         'data': JSON.stringify(productData),<br>         'dataType': 'json',<br>         'contentType': 'application/json; charset=utf-8'<br>     }<br>     );<br> }<br>The key is \"productData['productList[' + index + ']'] = productInfo\". This will output a JSON object that the binder can work with.<br>{\"productList[0]\" : {\"Name\":\"Cup Warmer\", \"Id\":1, \"Price\":10, \"Quantity\":1},<br>\"productList[1]\":{\"Name\":\"Hello Kitty Mug\",\"Id\":2,\"Price\":20,\"Quantity\":1},<br>\"productList[2]\":{\"Name\":\"Percolator\",\"Id\":3,\"Price\":50,\"Quantity\":1},<br>\"productList[3]\":{\"Name\":\"A Bunch of Coffee\",\"Id\":4,\"Price\":100,\"Quantity\":2}}<br>Boo yah!!</p>"
