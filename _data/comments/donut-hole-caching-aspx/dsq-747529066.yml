id: dsq-747529066
date: 2010-04-04T20:37:42.0000000-07:00
name: Smashd
avatar: https://disqus.com/api/users/avatars/Smashd.jpg
message: "<p>I think MVC 2 breaks this approach IF you're using RenderPartial() calls within the donut hole to be cached.  We have several projects where the main nav and footer nav are partials, and they in turn make their own calls to RenderPartial() to build out pieces of the navigation.  With MVC 1 we're able to successfully use your approach outlined above to cache the main nav and footer nav.<br>However, after updating a project to MVC 2 the following behavior occurred:<br>1.) The first page request returned the HTML out-of-order: for example, the HTML output by the RenderPartial() calls in the footer nav appeared before the \"static\" HTML that wrapped those calls.<br>2.) The second page request returned only the static HTML portions, as if the footer nav's calls to RenderPartial() had not output any HTML.<br>Removing the OutputCache directive from the footer nav and main nav fixes the problem, but then obviously that also removes the caching.  :)  I suppose I could flatten the footer nav and main nav (remove the RenderPartial() calls within them), but wanted to bring the issue to your attention.  Thanks!<br>Side note - I think your comment form doesn't like Google Chrome.  I was having trouble submitting this form until I switched to IE.</p>"
